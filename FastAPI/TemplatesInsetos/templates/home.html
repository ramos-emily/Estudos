<!DOCTYPE html>
<html>
<head>
    <title>Insetos</title>
    <script>
        function showMessage() {
            const urlParams = new URLSearchParams(window.location.search);
            const message = urlParams.get('message');
            if (message) {
                alert(message);
                window.history.replaceState({}, document.title, window.location.pathname);
            }
        }
        window.onload = showMessage;
    </script>
</head>
<body>
    <h1>Cadastro de Insetos</h1>

    <form action="/api/v1/inseto/home" method="post">
        <label>Nome: <input name="name" required></label><br>
        <label>Vida útil: <input type="number" name="lifetime" required></label><br>
        <label>Foto: <input name="photo"></label><br>
        <label>Tamanho: <input type="number" name="size" required></label><br>
        <label>Dieta: <input name="diet" required></label><br>
        <label>Extinto: <input type="checkbox" name="extinct"></label><br>
        <label>Curiosidade: <textarea name="curiosity"></textarea></label><br>
        <button type="submit">Cadastrar</button>
    </form>

    <h2>Insetos cadastrados</h2>
    <ul>
        {% for inseto in insetos %}
            <li>
                <strong>{{ inseto.name }}</strong> - {{ inseto.diet }} - {{ inseto.size }}cm
                <a href="/api/v1/inseto/home/edit/{{ inseto.id }}">Editar</a>
                <a href="/api/v1/inseto/home/delete/{{ inseto.id }}" onclick="return confirm('Confirmar exclusão?')">Excluir</a>
            </li>
        {% endfor %}
    </ul>
</body>
</html>